<?xml version="1.0" encoding="UTF-8"?>
<grid>
	<!-- <config title="价格政策维护" base="/main/sd/price/" xtype="uxgrid" curd="CRD" controllers="spm.SalePrModController" formView="SMSWeb.view.spm.SalePricePolicyView" isindependent="Y"/> -->
	<config title="价格政策维护" base="/main/sd/price/" xtype="uxgrid" curd="CRDE"/>
	<search>
		<!-- <column layout="hbox" xtype="fieldcontainer">
			<column xtype="container" flex="1" layout="hbox">
			    <column xtype="tablecombobox" fieldLabel="客户编码" name="kunnr" table="cust_header" dataid="kunnr" datatext="name1" showKey="true"/>
				<column xtype="dictcombobox" fieldLabel="折扣类型" name="rebatype" dict="DISCOUNT_TYPE"  />
				<column xtype="dictcombobox" fieldLabel="是否启用" name="isable" dict="YES_NO" />
			</column>
			<column xtype="container" flex="1" layout="hbox">
				<column xtype="textfield" fieldLabel="销售订单号" name="sale_order"/>
				<column xtype="datefield" fieldLabel="开始时间" name="starttime"
					format="Y-m-d" />
				<column xtype="datefield" fieldLabel="结束时间" name="endtime"
					format="Y-m-d" />
			</column>
		</column> -->
		<column layout="hbox" xtype="fieldcontainer">
			<column xtype="container" flex="1" layout="hbox">
				<column xtype="textfield" fieldLabel="销售订单号" name="sale_order"/>
				<column xtype="datefield" fieldLabel="开始时间" name="start_time"
					format="Y-m-d" />
				<column xtype="datefield" fieldLabel="结束时间" name="end_time"
					format="Y-m-d" />
			</column>
		</column>
		<column layout="hbox" xtype="fieldcontainer">
				<column xtype="container" flex="1" layout="hbox">
			    <column xtype="tablecombobox" fieldLabel="客户编码" name="kunnr" table="cust_header" dataid="kunnr" datatext="name1" showKey="true"/>
				<column xtype="dictcombobox" fieldLabel="折扣名称" name="discount_style" dict="DISCOUNT_TYPE"  />
				<column xtype="dictcombobox" fieldLabel="折扣类型" name="discount_style2" dict="DISCOUNT_TYPE2"  />
				<column xtype="dictcombobox" fieldLabel="是否启用" name="isable" dict="YES_NO" />
				</column>
		</column>
	</search>
	<form>
		<!-- <column xtype="textfield" fieldLabel="客户编码" name="kunnr" allowBlank="false" /> -->
		<column xtype="tablecombobox" fieldLabel="客户编码" name="kunnr" table="cust_header" dataid="kunnr" datatext="name1" showKey="true"/>
		<column xtype="textfield" fieldLabel="客户名称" name="name1"  allowBlank="true"  hidden="true"/>
		<column xtype="dictcombobox" fieldLabel="折扣名称" name="discountStyle" dict="DISCOUNT_TYPE"  allowBlank="false"/>
	    <column xtype="dictcombobox" fieldLabel="折扣类型" name="discountStyle2" dict="DISCOUNT_TYPE2"  allowBlank="false"/>
		<column xtype="datefield" fieldLabel="开始时间" name="startTime"  format="Y-m-d H:i:s" allowBlank="false"/>
		<column xtype="datefield" fieldLabel="结束时间" name="endTime" format="Y-m-d H:i:s"  allowBlank="false"/>
	    <column xtype="textfield" fieldLabel="折扣率" name="discount" allowBlank="true"/>
		<column xtype="textfield" fieldLabel="关联销售订单" name="saleOrder" allowBlank="false" />
		<column xtype="dictcombobox" fieldLabel="是否启用" name="isable" dict="YES_NO" allowBlank="false"/>
		

		<column xtype="fieldset" title="系统信息">
			<column xtype="textfield" fieldLabel="UUID" name="id" fieldStyle="background:#E6E6E6" readOnly="true"/>
			<column xtype="datefield" fieldLabel="创建时间" name="createTime" format="Y-m-d H:i:s" fieldStyle="background:#E6E6E6" readOnly="true"/>
			<column xtype="textfield" fieldLabel="创建人" name="createUser"  readOnly="true" fieldStyle="background:#E6E6E6"/>
			<column xtype="datefield" fieldLabel="更新时间" name="updateTime" format="Y-m-d H:i:s" fieldStyle="background:#E6E6E6" readOnly="true"/>
			<column xtype="textfield" fieldLabel="更新人" name="updateUser"  readOnly="true" fieldStyle="background:#E6E6E6"/>
		</column>
	</form>
	<head>
		<column xtype="rownumberer" width="30" align="right"/>
		<column xtype="actioncolumn" width="48" align="center" text="操作">
			<item icon="/resources/images/remarks1.png" tooltip="查看" handler="itemEditButtonClick"/>
		</column>
		<column dataIndex="id" width="140" align="left" hidden="true" text="ID">
		</column>
		<column dataIndex="kunnr" width="80" align="left"  text="客户编码"  >
		</column> 
		
		<column dataIndex="name1" width="80" align="left"  text="客户名称"  filterable="true" hidden="true">
			<editor xtype="textfield" selectOnFocus="true"/>
			<filter type="string"/>
		</column>
		<column dataIndex="discountStyle" width="120" align="center" text="折扣名称" dict="DISCOUNT_TYPE"  >
			<editor xtype="dictcombobox" dict="DISCOUNT_TYPE" editable="false"/>
		</column>
		<column dataIndex="discountStyle2" width="120" align="center" text="折扣类型" dict="DISCOUNT_TYPE2"  >
			<editor xtype="dictcombobox" dict="DISCOUNT_TYPE2" editable="false"/>
		</column>
		<column dataIndex="startTime" xtype="datecolumn" width="140" align="center" text="开始时间" format="Y-m-d H:i:s"/>
		<column dataIndex="endTime" xtype="datecolumn" width="140" align="center" text="结束时间" format="Y-m-d H:i:s"/>
		
		<column dataIndex="isable" width="100" align="center"  text="是否启用" DICT="YES_NO" filterable="true">
			<editor xtype="dictcombobox" dict="YES_NO" editable="false"/>
		</column>
		
		<column dataIndex="discount" width="100" align="right" text="折扣率" filterable="true">
			<editor xtype="textfield" selectOnFocus="true"/>
			<filter type="Double"/>
		</column>
		
		<column dataIndex="saleOrder" width="140" align="left"  text="关联销售订单"  filterable="true" allowBlank="true">
			<editor xtype="textfield" selectOnFocus="true"/>
			<filter type="string"/>
		</column>
		
	</head>
	<sql vname="SALE_PRICE_PROLICY_LOG">
	<![CDATA[select * from SALE_PRICE_PROLICY where 1=1 order by create_time desc]]>
	</sql>
</grid>