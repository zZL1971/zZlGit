<?xml version="1.0" encoding="UTF-8"?>
<grid>
	<config title="微信小程序角色管理" base="/core/wechatrole/" xtype="uxtreegrid" sortRoot="orderBy" displayfield="descZhCn"/>
	<gantmodule>
		<module xtype="uxtreegrid" headerModule="TMW_WECHAT_ROLE" title="菜单授权" module="menu"/>
	</gantmodule>
	<form>
		<column xtype="textfield" fieldLabel="角色名称" name="descZhCn" allowBlank="false"/>
		<column xtype="textfield" fieldLabel="角色名称" name="descEnUs" hidden="true"/>
		<column xtype="textfield" fieldLabel="角色名称" name="descZhTw" hidden="true"/>
		<column xtype="textfield" fieldLabel="父角色" name="parent.id"/>
		<column xtype="numberfield" fieldLabel="排序" name="orderBy"/>
		<column xtype="textareafield" fieldLabel="备注" name="remark" grow="true" anchor="100%"/>
		
		<column xtype="fieldset" title="系统信息">
			<column xtype="textfield" fieldLabel="UUID" name="id"  readOnly="true" fieldStyle="background:#E6E6E6"/>
			<column xtype="textfield" fieldLabel="创建人" name="createUser"  readOnly="true" fieldStyle="background:#E6E6E6"/>
			<column xtype="datefield" fieldLabel="创建时间" name="createTime" format="Y-m-d H:i:s" fieldStyle="background:#E6E6E6" readOnly="true"/>
			<column xtype="textfield" fieldLabel="更新人" name="updateUser"  readOnly="true" fieldStyle="background:#E6E6E6"/>
			<column xtype="datefield" fieldLabel="更新时间" name="updateTime" format="Y-m-d H:i:s" fieldStyle="background:#E6E6E6" readOnly="true"/>
		</column>
	</form>
	<search>
		<column layout="hbox" xtype="fieldcontainer">
			<column xtype="container" flex="1" layout="hbox">
				<column xtype="trigger" fieldLabel="角色名称" name="descZhCn" onTriggerClick="triggerClick">
					<![CDATA[
						listeners:{
							keyup: function(field, e){
								alert(1);
							}
						}
					]]>
				</column>
			</column>
		</column>
	</search>
	<head>
		<column xtype="rownumberer" width="30" align="right"/>
		<column xtype="treecolumn" dataIndex="descZhCn" width="150" align="left" text="角色名称"/>
		<column dataIndex="remark" flex="1" text="备注"/>
		<column dataIndex="orderBy" width="40" text="排序" align="right">
			<editor xtype="textfield" selectOnFocus="true"/>
		</column>
		<column xtype="actioncolumn" width="48" align="center" text="操作">
			<item icon="/resources/images/73.png" tooltip="编辑" handler="itemEditButtonClick"/>
			<item icon="/resources/images/77.png" tooltip="授权" handler="itemEditButtonClick2"/>
		</column>
		<column dataIndex="createTime" xtype="datecolumn" width="150" align="center" text="创建时间" format="Y-m-d H:i:s"/>
		<column dataIndex="updateTime" xtype="datecolumn" width="150" align="center" text="更新时间" format="Y-m-d H:i:s"/>
	</head>
	<sql vname="WECHAT">
	<![CDATA[select * from WECHAT a start with a.id ='root' connect by prior a.id=a.pid order siblings by order_by ]]>
	</sql>
</grid>